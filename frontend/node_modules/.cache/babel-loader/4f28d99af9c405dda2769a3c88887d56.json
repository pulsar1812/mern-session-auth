{"ast":null,"code":"import * as apiUtil from '../util/session';\nimport { RECEIVE_CURRENT_USER, LOGOUT_CURRENT_USER, RECEIVE_ERRORS, CLEAR_ERRORS } from './types';\n\nconst receiveCurrentUser = user => ({\n  type: RECEIVE_CURRENT_USER,\n  user\n});\n\nconst logoutCurrentUser = () => ({\n  type: LOGOUT_CURRENT_USER\n});\n\nconst receiveErrors = ({\n  message\n}) => ({\n  type: RECEIVE_ERRORS,\n  message\n});\n\nconst clearErrors = () => ({\n  type: CLEAR_ERRORS\n});\n\nexport const login = user => async dispatch => {\n  const res = await apiUtil.login(user);\n  const data = await res.json();\n\n  if (res.ok) {\n    return dispatch(receiveCurrentUser(data));\n  }\n\n  return dispatch(receiveErrors(data));\n};\nexport const signup = user => async dispatch => {\n  const res = await apiUtil.signup(user);\n  const data = await res.json();\n\n  if (res.ok) {\n    return dispatch(receiveCurrentUser(data));\n  }\n\n  return dispatch(receiveErrors(data));\n};\nexport const logout = () => async dispatch => {\n  const res = await apiUtil.logout();\n  const data = await res.json();\n\n  if (res.ok) {\n    return dispatch(logoutCurrentUser());\n  }\n\n  return dispatch(receiveErrors(data));\n};","map":{"version":3,"sources":["/Users/macbookpro/MyReact/mern-session-auth/frontend/src/actions/session.js"],"names":["apiUtil","RECEIVE_CURRENT_USER","LOGOUT_CURRENT_USER","RECEIVE_ERRORS","CLEAR_ERRORS","receiveCurrentUser","user","type","logoutCurrentUser","receiveErrors","message","clearErrors","login","dispatch","res","data","json","ok","signup","logout"],"mappings":"AAAA,OAAO,KAAKA,OAAZ,MAAyB,iBAAzB;AACA,SACEC,oBADF,EAEEC,mBAFF,EAGEC,cAHF,EAIEC,YAJF,QAKO,SALP;;AAOA,MAAMC,kBAAkB,GAAGC,IAAI,KAAK;AAClCC,EAAAA,IAAI,EAAEN,oBAD4B;AAElCK,EAAAA;AAFkC,CAAL,CAA/B;;AAKA,MAAME,iBAAiB,GAAG,OAAO;AAC/BD,EAAAA,IAAI,EAAEL;AADyB,CAAP,CAA1B;;AAIA,MAAMO,aAAa,GAAG,CAAC;AAAEC,EAAAA;AAAF,CAAD,MAAkB;AACtCH,EAAAA,IAAI,EAAEJ,cADgC;AAEtCO,EAAAA;AAFsC,CAAlB,CAAtB;;AAKA,MAAMC,WAAW,GAAG,OAAO;AACzBJ,EAAAA,IAAI,EAAEH;AADmB,CAAP,CAApB;;AAIA,OAAO,MAAMQ,KAAK,GAAGN,IAAI,IAAI,MAAMO,QAAN,IAAkB;AAC7C,QAAMC,GAAG,GAAG,MAAMd,OAAO,CAACY,KAAR,CAAcN,IAAd,CAAlB;AACA,QAAMS,IAAI,GAAG,MAAMD,GAAG,CAACE,IAAJ,EAAnB;;AAEA,MAAIF,GAAG,CAACG,EAAR,EAAY;AACV,WAAOJ,QAAQ,CAACR,kBAAkB,CAACU,IAAD,CAAnB,CAAf;AACD;;AACD,SAAOF,QAAQ,CAACJ,aAAa,CAACM,IAAD,CAAd,CAAf;AACD,CARM;AAUP,OAAO,MAAMG,MAAM,GAAGZ,IAAI,IAAI,MAAMO,QAAN,IAAkB;AAC9C,QAAMC,GAAG,GAAG,MAAMd,OAAO,CAACkB,MAAR,CAAeZ,IAAf,CAAlB;AAEA,QAAMS,IAAI,GAAG,MAAMD,GAAG,CAACE,IAAJ,EAAnB;;AAEA,MAAIF,GAAG,CAACG,EAAR,EAAY;AACV,WAAOJ,QAAQ,CAACR,kBAAkB,CAACU,IAAD,CAAnB,CAAf;AACD;;AACD,SAAOF,QAAQ,CAACJ,aAAa,CAACM,IAAD,CAAd,CAAf;AACD,CATM;AAWP,OAAO,MAAMI,MAAM,GAAG,MAAM,MAAMN,QAAN,IAAkB;AAC5C,QAAMC,GAAG,GAAG,MAAMd,OAAO,CAACmB,MAAR,EAAlB;AACA,QAAMJ,IAAI,GAAG,MAAMD,GAAG,CAACE,IAAJ,EAAnB;;AAEA,MAAIF,GAAG,CAACG,EAAR,EAAY;AACV,WAAOJ,QAAQ,CAACL,iBAAiB,EAAlB,CAAf;AACD;;AACD,SAAOK,QAAQ,CAACJ,aAAa,CAACM,IAAD,CAAd,CAAf;AACD,CARM","sourcesContent":["import * as apiUtil from '../util/session';\nimport {\n  RECEIVE_CURRENT_USER,\n  LOGOUT_CURRENT_USER,\n  RECEIVE_ERRORS,\n  CLEAR_ERRORS\n} from './types';\n\nconst receiveCurrentUser = user => ({\n  type: RECEIVE_CURRENT_USER,\n  user\n});\n\nconst logoutCurrentUser = () => ({\n  type: LOGOUT_CURRENT_USER\n});\n\nconst receiveErrors = ({ message }) => ({\n  type: RECEIVE_ERRORS,\n  message\n});\n\nconst clearErrors = () => ({\n  type: CLEAR_ERRORS\n});\n\nexport const login = user => async dispatch => {\n  const res = await apiUtil.login(user);\n  const data = await res.json();\n\n  if (res.ok) {\n    return dispatch(receiveCurrentUser(data));\n  }\n  return dispatch(receiveErrors(data));\n};\n\nexport const signup = user => async dispatch => {\n  const res = await apiUtil.signup(user);\n\n  const data = await res.json();\n\n  if (res.ok) {\n    return dispatch(receiveCurrentUser(data));\n  }\n  return dispatch(receiveErrors(data));\n};\n\nexport const logout = () => async dispatch => {\n  const res = await apiUtil.logout();\n  const data = await res.json();\n\n  if (res.ok) {\n    return dispatch(logoutCurrentUser());\n  }\n  return dispatch(receiveErrors(data));\n};\n"]},"metadata":{},"sourceType":"module"}